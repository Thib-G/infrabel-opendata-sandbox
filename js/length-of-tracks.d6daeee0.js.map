{"version":3,"sources":["webpack:///./src/components/LengthOfTracksGeo.vue?d270","webpack:///./node_modules/@babel/runtime-corejs2/node_modules/core-js/library/modules/_iter-detect.js","webpack:///./node_modules/@babel/runtime-corejs2/node_modules/core-js/library/fn/array/from.js","webpack:///./node_modules/@babel/runtime-corejs2/node_modules/core-js/library/modules/es6.array.from.js","webpack:///./node_modules/@babel/runtime-corejs2/core-js/array/from.js","webpack:///./node_modules/@babel/runtime-corejs2/node_modules/core-js/library/fn/is-iterable.js","webpack:///./node_modules/@babel/runtime-corejs2/node_modules/core-js/library/modules/_iter-call.js","webpack:///./node_modules/@babel/runtime-corejs2/node_modules/core-js/library/modules/_create-property.js","webpack:///./node_modules/@babel/runtime-corejs2/node_modules/core-js/library/modules/_is-array-iter.js","webpack:///./src/views/LengthOfTracks.vue?bc16","webpack:///./src/components/LengthOfTracksGeo.vue?8e68","webpack:///./node_modules/@babel/runtime-corejs2/helpers/esm/arrayWithoutHoles.js","webpack:///./node_modules/@babel/runtime-corejs2/helpers/esm/iterableToArray.js","webpack:///./node_modules/@babel/runtime-corejs2/helpers/esm/nonIterableSpread.js","webpack:///./node_modules/@babel/runtime-corejs2/helpers/esm/toConsumableArray.js","webpack:///src/components/LengthOfTracksGeo.vue","webpack:///./src/components/LengthOfTracksGeo.vue?c41c","webpack:///./src/components/LengthOfTracksGeo.vue?f66e","webpack:///src/views/LengthOfTracks.vue","webpack:///./src/views/LengthOfTracks.vue?0b11","webpack:///./src/views/LengthOfTracks.vue","webpack:///./node_modules/@babel/runtime-corejs2/core-js/is-iterable.js","webpack:///./node_modules/@babel/runtime-corejs2/node_modules/core-js/library/modules/core.is-iterable.js"],"names":["ITERATOR","SAFE_CLOSING","riter","Array","from","e","module","exports","exec","skipClosing","safe","arr","iter","next","done","ctx","$export","toObject","call","isArrayIter","toLength","createProperty","getIterFn","S","F","arrayLike","length","result","step","iterator","O","C","this","aLen","arguments","mapfn","undefined","mapping","index","iterFn","value","anObject","fn","entries","ret","$defineProperty","createDesc","object","f","Iterators","ArrayProto","prototype","it","render","_vm","_h","$createElement","_c","_self","_v","attrs","on","$event","preventDefault","animate","geojson","regions","ref","_e","_m","staticRenderFns","width","height","staticClass","regionsPath","margin","left","top","_s","nr","_arrayWithoutHoles","i","arr2","_iterableToArray","Object","toString","_nonIterableSpread","TypeError","_toConsumableArray","props","type","required","data","chartWidth","chartHeight","center","d3","pathFnNr","mapScale","delay","duration","mounted","init","computed","projection","pathGeo","topFeatures","scale","pathFn","pathHistogram","methods","pathHistogramBg","feature","geometry","coordinates","forEach","points","subpath","p1","j","highlight","unhighlight","component","infrabelService","created","getGeoTracks","getRegions","then","$refs","geo","components","LengthOfTracksGeo","classof","isIterable","hasOwnProperty"],"mappings":"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","file":"js/length-of-tracks.d6daeee0.js","sourcesContent":["import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LengthOfTracksGeo.vue?vue&type=style&index=0&id=a79da186&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LengthOfTracksGeo.vue?vue&type=style&index=0&id=a79da186&scoped=true&lang=css&\"","var ITERATOR = require('./_wks')('iterator');\nvar SAFE_CLOSING = false;\n\ntry {\n  var riter = [7][ITERATOR]();\n  riter['return'] = function () { SAFE_CLOSING = true; };\n  // eslint-disable-next-line no-throw-literal\n  Array.from(riter, function () { throw 2; });\n} catch (e) { /* empty */ }\n\nmodule.exports = function (exec, skipClosing) {\n  if (!skipClosing && !SAFE_CLOSING) return false;\n  var safe = false;\n  try {\n    var arr = [7];\n    var iter = arr[ITERATOR]();\n    iter.next = function () { return { done: safe = true }; };\n    arr[ITERATOR] = function () { return iter; };\n    exec(arr);\n  } catch (e) { /* empty */ }\n  return safe;\n};\n","require('../../modules/es6.string.iterator');\nrequire('../../modules/es6.array.from');\nmodule.exports = require('../../modules/_core').Array.from;\n","'use strict';\nvar ctx = require('./_ctx');\nvar $export = require('./_export');\nvar toObject = require('./_to-object');\nvar call = require('./_iter-call');\nvar isArrayIter = require('./_is-array-iter');\nvar toLength = require('./_to-length');\nvar createProperty = require('./_create-property');\nvar getIterFn = require('./core.get-iterator-method');\n\n$export($export.S + $export.F * !require('./_iter-detect')(function (iter) { Array.from(iter); }), 'Array', {\n  // 22.1.2.1 Array.from(arrayLike, mapfn = undefined, thisArg = undefined)\n  from: function from(arrayLike /* , mapfn = undefined, thisArg = undefined */) {\n    var O = toObject(arrayLike);\n    var C = typeof this == 'function' ? this : Array;\n    var aLen = arguments.length;\n    var mapfn = aLen > 1 ? arguments[1] : undefined;\n    var mapping = mapfn !== undefined;\n    var index = 0;\n    var iterFn = getIterFn(O);\n    var length, result, step, iterator;\n    if (mapping) mapfn = ctx(mapfn, aLen > 2 ? arguments[2] : undefined, 2);\n    // if object isn't iterable or it's array with default iterator - use simple case\n    if (iterFn != undefined && !(C == Array && isArrayIter(iterFn))) {\n      for (iterator = iterFn.call(O), result = new C(); !(step = iterator.next()).done; index++) {\n        createProperty(result, index, mapping ? call(iterator, mapfn, [step.value, index], true) : step.value);\n      }\n    } else {\n      length = toLength(O.length);\n      for (result = new C(length); length > index; index++) {\n        createProperty(result, index, mapping ? mapfn(O[index], index) : O[index]);\n      }\n    }\n    result.length = index;\n    return result;\n  }\n});\n","module.exports = require(\"core-js/library/fn/array/from\");","require('../modules/web.dom.iterable');\nrequire('../modules/es6.string.iterator');\nmodule.exports = require('../modules/core.is-iterable');\n","// call something on iterator step with safe closing on error\nvar anObject = require('./_an-object');\nmodule.exports = function (iterator, fn, value, entries) {\n  try {\n    return entries ? fn(anObject(value)[0], value[1]) : fn(value);\n  // 7.4.6 IteratorClose(iterator, completion)\n  } catch (e) {\n    var ret = iterator['return'];\n    if (ret !== undefined) anObject(ret.call(iterator));\n    throw e;\n  }\n};\n","'use strict';\nvar $defineProperty = require('./_object-dp');\nvar createDesc = require('./_property-desc');\n\nmodule.exports = function (object, index, value) {\n  if (index in object) $defineProperty.f(object, index, createDesc(0, value));\n  else object[index] = value;\n};\n","// check on default Array iterator\nvar Iterators = require('./_iterators');\nvar ITERATOR = require('./_wks')('iterator');\nvar ArrayProto = Array.prototype;\n\nmodule.exports = function (it) {\n  return it !== undefined && (Iterators.Array === it || ArrayProto[ITERATOR] === it);\n};\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('p',[_vm._v(\"\\n    This visualisation animates the top longest main tracks.\\n    \"),_c('br'),_vm._v(\"Click \"),_c('a',{attrs:{\"href\":\"\"},on:{\"click\":function($event){$event.preventDefault();return _vm.animate($event)}}},[_vm._v(\"Play\")]),_vm._v(\".\\n  \")]),(_vm.geojson && _vm.regions)?_c('LengthOfTracksGeo',{ref:\"geo\",attrs:{\"geojson\":_vm.geojson,\"regions\":_vm.regions}}):_vm._e(),_c('div',[_c('button',{on:{\"click\":_vm.animate}},[_vm._v(\"Play\")])]),_c('h3',[_vm._v(\"Sources\")]),_vm._m(0),_c('p',[_vm._v(\"The dataset was simplified using QGIS with the Douglas-Peucker\\n    algorithm and a precision of 50m.\")]),_vm._m(1)],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('p',[_vm._v(\"Infrabel Open Data: « \"),_c('a',{attrs:{\"href\":\"https://opendata.infrabel.be/explore/dataset/geovoies/\",\"target\":\"_blank\"}},[_vm._v(\"Liste\\n    et position géographique des voies principales\")]),_vm._v(\" ».\")])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('p',[_vm._v(\"Atlas de Belgique: \"),_c('a',{attrs:{\"href\":\"http://www.atlas-belgique.be/cms2/index.php?page=cartodata_fr\",\"target\":\"_blank\"}},[_vm._v(\"régions\")]),_vm._v(\".\")])}]\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('svg',{ref:\"svg\",attrs:{\"width\":_vm.width,\"height\":_vm.height}},[_c('rect',{staticClass:\"bg\",attrs:{\"x\":\"0\",\"y\":\"0\",\"rx\":\"20\",\"ry\":\"20\",\"width\":_vm.width,\"height\":_vm.height}}),_c('g',{staticClass:\"g-map\"},[_c('g',[_c('path',{staticClass:\"regions\",attrs:{\"d\":_vm.regionsPath}})]),_c('g',{ref:\"map\"})]),_c('g',{ref:\"chart\",staticClass:\"g-chart\"},[_c('text',{attrs:{\"x\":_vm.margin.left,\"y\":_vm.margin.top - 10}},[_vm._v(\"Top \"+_vm._s(_vm.nr))])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import _Array$isArray from \"../../core-js/array/is-array\";\nexport default function _arrayWithoutHoles(arr) {\n  if (_Array$isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  }\n}","import _Array$from from \"../../core-js/array/from\";\nimport _isIterable from \"../../core-js/is-iterable\";\nexport default function _iterableToArray(iter) {\n  if (_isIterable(Object(iter)) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return _Array$from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}","import arrayWithoutHoles from \"./arrayWithoutHoles\";\nimport iterableToArray from \"./iterableToArray\";\nimport nonIterableSpread from \"./nonIterableSpread\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || nonIterableSpread();\n}","<template>\n  <svg :width=\"width\" :height=\"height\" ref=\"svg\">\n    <rect x=\"0\" y=\"0\" rx=\"20\" ry=\"20\" :width=\"width\" :height=\"height\" class=\"bg\" />\n    <g class=\"g-map\">\n      <g>\n        <path :d=\"regionsPath\" class=\"regions\" />\n      </g>\n      <g ref=\"map\" />\n    </g>\n    <g class=\"g-chart\" ref=\"chart\">\n      <text :x=\"margin.left\" :y=\"margin.top - 10\">Top {{ nr }}</text>\n    </g>\n  </svg>\n</template>\n\n<script>\nimport d3 from '@/assets/d3';\n\nexport default {\n  props: {\n    geojson: {\n      type: Object,\n      required: true,\n    },\n    regions: {\n      type: Object,\n      required: true,\n    },\n  },\n  data() {\n    return {\n      width: 1000,\n      height: 600,\n      chartWidth: 300,\n      chartHeight: 550,\n      margin: {\n        top: 30, right: 20, bottom: 20, left: 100,\n      },\n      center: d3.geoCentroid(this.geojson),\n      nr: 40,\n      pathFnNr: 0,\n      mapScale: 10000,\n      delay: 60,\n      duration: 4000,\n    };\n  },\n  mounted() {\n    this.init();\n  },\n  computed: {\n    projection() {\n      return d3.geoMercator()\n        .center(this.center)\n        .scale(this.mapScale)\n        .translate([this.width / 2 + this.margin.left + 30, this.height / 2 - 50]);\n    },\n    pathGeo() {\n      return d3.geoPath().projection(this.projection);\n    },\n    topFeatures() {\n      return [...this.geojson.features]\n        .sort((a, b) => b.properties.length - a.properties.length)\n        .filter((item, index) => index < this.nr);\n    },\n    scale() {\n      const x = d3.scaleLinear()\n        .range([0, this.chartWidth])\n        .domain([0, Math.max(...this.topFeatures.map(f => f.properties.length))]);\n      const y = d3.scaleBand()\n        .range([0, this.chartHeight])\n        .domain(this.topFeatures.map(f => f.properties.trackcode))\n        .padding(0.1);\n      const color = d3.scaleSequential(d3.interpolateYlOrBr)\n        .domain([0, Math.max(...this.topFeatures.map(f => f.properties.length))]);\n      return { x, y, color };\n    },\n    pathFn() {\n      return this.pathFnNr === 0 ? this.pathHistogram : this.pathGeo;\n    },\n    regionsPath() {\n      return this.pathGeo(this.regions);\n    },\n  },\n  methods: {\n    init() {\n      d3.select(this.$refs.map)\n        .selectAll('path.track').data(this.geojson.features)\n        .enter()\n        .append('path')\n        .attr('class', 'track')\n        .attr('d', this.pathGeo)\n        .on('mouseover', this.highlight)\n        .on('mouseout', this.unhighlight);\n\n      d3.select(this.$refs.chart)\n        .selectAll('path.chart-bg').data(this.topFeatures)\n        .enter()\n        .append('path')\n        .attr('class', 'chart-bg')\n        .attr('d', this.pathHistogramBg)\n        .on('mouseover', this.highlight)\n        .on('mouseout', this.unhighlight);\n\n      d3.select(this.$refs.chart)\n        .selectAll('path.chart').data(this.topFeatures)\n        .enter()\n        .append('path')\n        .attr('class', 'chart')\n        .style('stroke', d => this.scale.color(d.properties.length))\n        .attr('d', this.pathHistogram)\n        .on('mouseover', this.highlight)\n        .on('mouseout', this.unhighlight);\n\n      d3.select(this.$refs.chart)\n        .selectAll('text.chart-text').data(this.topFeatures)\n        .enter()\n        .append('text')\n        .attr('class', 'chart-text')\n        .attr('x', this.margin.left - 4)\n        .attr('y', d => this.margin.top\n          + this.scale.y(d.properties.trackcode) + (this.scale.y.bandwidth() / 2) + 3)\n        .text(d => `${d.properties.trackcode} (${Math.round(d.properties.length / 1000)} km)`)\n        .on('mouseover', this.highlight)\n        .on('mouseout', this.unhighlight);\n    },\n    pathHistogramBg(feature) {\n      const x0 = this.margin.left;\n      const x1 = this.margin.left + this.scale.x(feature.properties.length);\n      const y0 = this.margin.top\n        + this.scale.y(feature.properties.trackcode) + (this.scale.y.bandwidth() / 2);\n\n      return `M${x0} ${y0}L${x1} ${y0}`;\n    },\n    pathHistogram(feature) {\n      // eslint-disable-next-line\n      const mergedCoordinates = [].concat.apply([], feature.geometry.coordinates);\n      const x1 = this.scale.x(feature.properties.length);\n      const y0 = this.margin.top\n        + this.scale.y(feature.properties.trackcode) + (this.scale.y.bandwidth() / 2);\n\n      // we need to have the same number of points than on the map\n      // so we divide the line in equal parts\n      let points = '';\n      let i = 0;\n      let p1 = `${this.margin.left} ${y0}`;\n      feature.geometry.coordinates.forEach((subpath) => {\n        points += `M${p1}`;\n        subpath.forEach((v, j) => {\n          p1 = `${this.margin.left + ((x1 * (i + 1)) / mergedCoordinates.length)} ${y0}`;\n          if (j !== 0) {\n            points += `L${p1}`;\n          }\n          i += 1;\n        });\n      });\n\n      return points;\n    },\n    animate() {\n      this.pathFnNr = (this.pathFnNr + 1) % 2;\n      d3.select(this.$refs.chart)\n        .selectAll('path.chart')\n        .transition()\n        .duration(this.duration)\n        .delay((d, i, nodes) => {\n          if (this.pathFnNr === 1) {\n            return i * this.delay;\n          }\n          return (nodes.length - 1 - i) * this.delay;\n        })\n        .attr('d', this.pathFn);\n    },\n    highlight(feature) {\n      d3.select(this.$refs.svg)\n        .selectAll('path.chart, text.chart-text, path.track')\n        .filter(d => d.properties.trackcode === feature.properties.trackcode)\n        .classed('highlighted', true);\n    },\n    unhighlight() {\n      d3.select(this.$refs.svg)\n        .selectAll('path.chart, text.chart-text, path.track')\n        .classed('highlighted', false);\n    },\n  },\n};\n</script>\n\n<style scoped>\n  .bg {\n    fill: rgb(240, 240, 240);\n  }\n  svg >>> .track {\n    stroke-width: 1px;\n    stroke: steelblue;\n    stroke-linecap: round;\n    fill: none;\n  }\n  svg >>> .chart {\n    stroke-width: 4px;\n    stroke: white;\n    stroke-linecap: round;\n    fill: none;\n  }\n  svg >>> .chart-bg {\n    stroke-width: 2px;\n    stroke: white;\n    stroke-linecap: round;\n    fill: none;\n  }\n  svg >>> .chart-text {\n    text-anchor: end;\n    font-size: 8pt;\n  }\n  svg >>> .regions {\n    fill: white;\n    stroke: darkgrey;\n    stroke-width: 1px;\n  }\n  svg >>> .highlighted {\n    stroke-width: 6px;\n    font-weight: bold;\n  }\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LengthOfTracksGeo.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LengthOfTracksGeo.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./LengthOfTracksGeo.vue?vue&type=template&id=a79da186&scoped=true&\"\nimport script from \"./LengthOfTracksGeo.vue?vue&type=script&lang=js&\"\nexport * from \"./LengthOfTracksGeo.vue?vue&type=script&lang=js&\"\nimport style0 from \"./LengthOfTracksGeo.vue?vue&type=style&index=0&id=a79da186&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"a79da186\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div>\n    <p>\n      This visualisation animates the top longest main tracks.\n      <br />Click <a href @click.prevent=\"animate\">Play</a>.\n    </p>\n    <LengthOfTracksGeo\n      v-if=\"geojson && regions\"\n      :geojson=\"geojson\"\n      :regions=\"regions\"\n      ref=\"geo\"\n    />\n    <div>\n      <button @click=\"animate\">Play</button>\n    </div>\n    <h3>Sources</h3>\n    <p>Infrabel Open Data: &laquo;&nbsp;<a href=\"https://opendata.infrabel.be/explore/dataset/geovoies/\"\n      target=\"_blank\">Liste\n      et position géographique des voies principales</a>&nbsp;&raquo;.</p>\n    <p>The dataset was simplified using QGIS with the Douglas-Peucker\n      algorithm and a precision of 50m.</p>\n    <p>Atlas de Belgique: <a href=\"http://www.atlas-belgique.be/cms2/index.php?page=cartodata_fr\"\n      target=\"_blank\">régions</a>.</p>\n  </div>\n</template>\n\n<script>\n// @ is an alias to /src\nimport InfrabelService from '@/services/infrabel-service';\nimport LengthOfTracksGeo from '@/components/LengthOfTracksGeo.vue';\n\nexport default {\n  data() {\n    return {\n      infrabelService: InfrabelService,\n      geojson: undefined,\n      regions: undefined,\n    };\n  },\n  created() {\n    this.getGeoTracks();\n    this.getRegions();\n  },\n  methods: {\n    getGeoTracks() {\n      this.infrabelService.getGeoTracks().then((data) => {\n        this.geojson = data;\n      });\n    },\n    getRegions() {\n      this.infrabelService.getRegions().then((data) => {\n        this.regions = data;\n      });\n    },\n    animate() {\n      this.$refs.geo.animate();\n    },\n  },\n  components: {\n    LengthOfTracksGeo,\n  },\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LengthOfTracks.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LengthOfTracks.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./LengthOfTracks.vue?vue&type=template&id=738cef35&\"\nimport script from \"./LengthOfTracks.vue?vue&type=script&lang=js&\"\nexport * from \"./LengthOfTracks.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","module.exports = require(\"core-js/library/fn/is-iterable\");","var classof = require('./_classof');\nvar ITERATOR = require('./_wks')('iterator');\nvar Iterators = require('./_iterators');\nmodule.exports = require('./_core').isIterable = function (it) {\n  var O = Object(it);\n  return O[ITERATOR] !== undefined\n    || '@@iterator' in O\n    // eslint-disable-next-line no-prototype-builtins\n    || Iterators.hasOwnProperty(classof(O));\n};\n"],"sourceRoot":""}